<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Editar Personagem</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <nav>
      <button onclick="window.location.href='index.html'" class="btn btn-secondary">Voltar</button>
    </nav>
  </header>
  <main>
    <form id="edit-character-form">
      <!-- Dados Básicos -->
      <fieldset>
        <legend>Dados Básicos</legend>
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required>
        
        <div class="form-group">
          <label for="image-file">Imagem do Personagem (Arquivo):</label>
          <input type="file" id="image-file" accept="image/*" class="form-control">
          <small class="form-text text-muted">Selecione uma imagem do seu dispositivo ou cole uma URL abaixo.</small>
        </div>

        <div class="form-group">
          <label for="imagem">URL da Imagem (opcional se arquivo foi enviado):</label>
          <input type="text" id="imagem" name="imagem" class="form-control" placeholder="Cole a URL da imagem aqui">
        </div>
      </fieldset>

      <!-- Estilos (Grade 2x2) -->
      <fieldset>
        <legend>Estilos</legend>
        <div class="grid-2x2">
          <div>
            <label for="poderoso">Poderoso:</label>
            <input type="number" id="poderoso" name="poderoso" value="0" required>
          </div>
          <div>
            <label for="ligeiro">Ligeiro:</label>
            <input type="number" id="ligeiro" name="ligeiro" value="0" required>
          </div>
          <div>
            <label for="preciso">Preciso:</label>
            <input type="number" id="preciso" name="preciso" value="0" required>
          </div>
          <div>
            <label for="capcioso">Capcioso:</label>
            <input type="number" id="capcioso" name="capcioso" value="0" required>
          </div>
        </div>
      </fieldset>

      <!-- Habilidades (Grade 4x3) -->
      <fieldset>
        <legend>Habilidades</legend>
        <div class="grid-4x3">
          <div>
            <label for="agarrao">Agarrão:</label>
            <input type="number" id="agarrao" name="agarrao" value="0">
          </div>
          <div>
            <label for="armazenamento">Armazenamento:</label>
            <input type="number" id="armazenamento" name="armazenamento" value="0">
          </div>
          <div>
            <label for="assegurar">Assegurar:</label>
            <input type="number" id="assegurar" name="assegurar" value="0">
          </div>
          <div>
            <label for="busca">Busca:</label>
            <input type="number" id="busca" name="busca" value="0">
          </div>
          <div>
            <label for="chamado">Chamado:</label>
            <input type="number" id="chamado" name="chamado" value="0">
          </div>
          <div>
            <label for="cura">Cura:</label>
            <input type="number" id="cura" name="cura" value="0">
          </div>
          <div>
            <label for="exibicao">Exibição:</label>
            <input type="number" id="exibicao" name="exibicao" value="0">
          </div>
          <div>
            <label for="golpe">Golpe:</label>
            <input type="number" id="golpe" name="golpe" value="0">
          </div>
          <div>
            <label for="manufatura">Manufatura:</label>
            <input type="number" id="manufatura" name="manufatura" value="0">
          </div>
          <div>
            <label for="estudo">Estudo:</label>
            <input type="number" id="estudo" name="estudo" value="0">
          </div>
          <div>
            <label for="tiro">Tiro:</label>
            <input type="number" id="tiro" name="tiro" value="0">
          </div>
          <div>
            <label for="travessia">Travessia:</label>
            <input type="number" id="travessia" name="travessia" value="0">
          </div>
        </div>
      </fieldset>

      <!-- Seção de Traços -->
      <fieldset>
        <legend>Traços</legend>
        <div class="tracos-container">
          <div id="tracos-list">
            <!-- Os traços serão adicionados aqui dinamicamente -->
          </div>
          <button type="button" id="add-traco" class="add-traco-btn">+ Adicionar Traço</button>
        </div>
      </fieldset>

      <!-- Seção de Utensílio/Partes (condicional baseado no tipo) -->
      <fieldset id="utensilio-section">
        <legend>Utensílio</legend>
        <div class="utensilio-container">
          <div id="utensilio-info">
            <label for="selectUtensilio">Selecionar Utensílio:</label>
            <button type="button" id="select-utensilio" class="btn">Escolher Utensílio</button>
            
            <div id="utensilio-details" style="display: none;">
              <h3 id="utensilio-nome-display"></h3>
              <input type="hidden" id="nomeUtensilio" name="nomeUtensilio">
              
              <label for="resistencia">Resistência do Utensílio:</label>
              <input type="number" id="resistencia" name="resistencia" value="0">
            </div>
          </div>
          
          <div id="tecnicas-container" style="display: none;">
            <h3>Técnicas do Utensílio</h3>
            <div id="tecnicas-list">
              <!-- As técnicas selecionadas serão adicionadas aqui dinamicamente -->
            </div>
            <button type="button" id="add-tecnica" class="add-tecnica-btn">+ Adicionar Técnica</button>
          </div>
        </div>
      </fieldset>

      <fieldset id="partes-section" style="display: none;">
        <legend>Partes</legend>
        <div class="partes-container">
          <div id="partes-list">
            <!-- As partes serão adicionadas aqui dinamicamente -->
          </div>
          <button type="button" id="add-parte" class="add-parte-btn">+ Adicionar Parte</button>
        </div>
      </fieldset>

      <div class="form-actions">
        <button type="button" id="cancel-edit" class="btn secondary">Cancelar</button>
        <button type="submit" class="btn btn-success btn-lg btn-ripple">Salvar Alterações</button>
        <button type="button" id="delete-character" class="btn danger">Excluir Personagem</button>
      </div>
    </form>
  </main>
  
  <!-- Modal de Seleção de Traços -->
  <div id="tracos-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Selecionar Traço</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <div id="tracos-lista"></div>
      </div>
    </div>
  </div>
  
  <!-- Modal de Seleção de Utensílios -->
  <div id="utensilios-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Selecionar Utensílio</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <div id="utensilios-lista"></div>
      </div>
    </div>
  </div>
  
  <!-- Modal de Seleção de Técnicas -->
  <div id="tecnicas-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Selecionar Técnica</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <div id="tecnicas-lista"></div>
      </div>
    </div>
  </div>

  <script src="common.js"></script>
  <script src="edit.js"></script>
</body>
</html>
