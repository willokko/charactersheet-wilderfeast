<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Criar Personagem</title>
  <link rel="stylesheet" href="../styles/style.css">
</head>
<body>
  <header>
    <nav>
      <button onclick="window.location.href='../index.html'" class="btn btn-secondary">Voltar</button>
    </nav>
  </header>
  <main>
    <form id="create-character-form">
      <!-- Dados Básicos -->
      <fieldset>
        <legend>Dados Básicos</legend>
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required>
        
        <div class="form-group">
          <label for="image-file">Imagem do Personagem (Arquivo):</label>
          <input type="file" id="image-file" accept="image/*" class="form-control">
          <small class="form-text text-muted">Selecione uma imagem do seu dispositivo ou cole uma URL abaixo.</small>
        </div>

        <div class="form-group">
          <label for="imagem">URL da Imagem (opcional se arquivo foi enviado):</label>
          <input type="text" id="imagem" name="imagem" class="form-control" placeholder="Cole a URL da imagem aqui">
        </div>
      </fieldset>

      <!-- Estilos (Grade 2x2) -->
      <fieldset>
        <legend>Estilos</legend>
        <div class="grid-2x2">
          <div>
            <label for="poderoso">Poderoso:</label>
            <input type="number" id="poderoso" name="poderoso" value="0" required>
          </div>
          <div>
            <label for="ligeiro">Ligeiro:</label>
            <input type="number" id="ligeiro" name="ligeiro" value="0" required>
          </div>
          <div>
            <label for="preciso">Preciso:</label>
            <input type="number" id="preciso" name="preciso" value="0" required>
          </div>
          <div>
            <label for="capcioso">Capcioso:</label>
            <input type="number" id="capcioso" name="capcioso" value="0" required>
          </div>
        </div>
      </fieldset>

      <!-- Habilidades (Grade 4x3) -->
      <fieldset>
        <legend>Habilidades</legend>
        <div class="grid-4x3">
          <div>
            <label for="agarrao">Agarrão:</label>
            <input type="number" id="agarrao" name="agarrao" value="0">
          </div>
          <div>
            <label for="armazenamento">Armazenamento:</label>
            <input type="number" id="armazenamento" name="armazenamento" value="0">
          </div>
          <div>
            <label for="assegurar">Assegurar:</label>
            <input type="number" id="assegurar" name="assegurar" value="0">
          </div>
          <div>
            <label for="busca">Busca:</label>
            <input type="number" id="busca" name="busca" value="0">
          </div>
          <div>
            <label for="chamado">Chamado:</label>
            <input type="number" id="chamado" name="chamado" value="0">
          </div>
          <div>
            <label for="cura">Cura:</label>
            <input type="number" id="cura" name="cura" value="0">
          </div>
          <div>
            <label for="exibicao">Exibição:</label>
            <input type="number" id="exibicao" name="exibicao" value="0">
          </div>
          <div>
            <label for="golpe">Golpe:</label>
            <input type="number" id="golpe" name="golpe" value="0">
          </div>
          <div>
            <label for="manufatura">Manufatura:</label>
            <input type="number" id="manufatura" name="manufatura" value="0">
          </div>
          <div>
            <label for="estudo">Estudo:</label>
            <input type="number" id="estudo" name="estudo" value="0">
          </div>
          <div>
            <label for="tiro">Tiro:</label>
            <input type="number" id="tiro" name="tiro" value="0">
          </div>
          <div>
            <label for="travessia">Travessia:</label>
            <input type="number" id="travessia" name="travessia" value="0">
          </div>
        </div>
      </fieldset>

      <!-- Seção de Traços -->
      <fieldset>
        <legend>Traços</legend>
        <div class="tracos-container">
          <div id="tracos-list">
            <!-- Os traços serão adicionados aqui dinamicamente -->
          </div>
          <div class="botoes-container">
            <button type="button" id="add-traco" class="add-traco-btn">+ Adicionar Traço</button>
            <button type="button" id="add-traco-personalizado" class="add-traco-btn btn-personalizado">+ Personalizado</button>
          </div>
        </div>
      </fieldset>

      <!-- Seção de Utensílio -->
      <fieldset id="utensilio-section">
        <legend>Utensílio</legend>
        <div class="utensilio-container">
          <div id="utensilio-info">
            <label for="selectUtensilio">Selecionar Utensílio:</label>
            <button type="button" id="select-utensilio" class="btn">Escolher Utensílio</button>
            
            <div id="utensilio-details" style="display: none;">
              <h3 id="utensilio-nome-display"></h3>
              <input type="hidden" id="nomeUtensilio" name="nomeUtensilio">
              
              <label for="resistencia">Resistência do Utensílio:</label>
              <input type="number" id="resistencia" name="resistencia" value="0">
            </div>
          </div>
          
          <div id="tecnicas-container" style="display: none;">
            <h3>Técnicas do Utensílio</h3>
            <div id="tecnicas-list">
              <!-- As técnicas selecionadas serão adicionadas aqui dinamicamente -->
            </div>
            <div class="botoes-container">
              <button type="button" id="add-tecnica" class="add-tecnica-btn">+ Adicionar Técnica</button>
              <button type="button" id="add-tecnica-personalizada" class="add-tecnica-btn btn-personalizado">+ Personalizado</button>
            </div>
          </div>
        </div>
      </fieldset>

      <!-- Seção de Inventário -->
      <fieldset>
        <legend>Inventário</legend>
        <div class="inventario-container">
          <div id="inventario-list">
            <!-- Os itens serão adicionados aqui dinamicamente -->
          </div>
          <button type="button" id="add-item" class="add-traco-btn">+ Novo Item</button>
        </div>
      </fieldset>

      <button type="submit" class="btn btn-success btn-lg btn-ripple">Salvar Personagem</button>
    </form>
  </main>
  
  <!-- Modal de Seleção de Traços -->
  <div id="tracos-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Selecionar Traço</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <div id="tracos-lista"></div>
      </div>
    </div>
  </div>
  
  <!-- Modal de Seleção de Utensílios -->
  <div id="utensilios-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Selecionar Utensílio</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <div id="utensilios-lista"></div>
      </div>
    </div>
  </div>
  
  <!-- Modal de Seleção de Técnicas -->
  <div id="tecnicas-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Selecionar Técnica</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <div id="tecnicas-lista"></div>
      </div>
    </div>
  </div>

  <!-- Modal para Adicionar Item ao Inventário -->
  <div id="inventario-modal" class="modal modal-inventario">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Adicionar Item ao Inventário</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <form id="item-form">
          <div class="form-group">
            <label for="item-nome">Nome do Item:</label>
            <input type="text" id="item-nome" name="item-nome" required>
          </div>
          
          <div class="form-group">
            <label for="item-quantidade">Quantidade:</label>
            <input type="number" id="item-quantidade" name="item-quantidade" value="1" min="1">
          </div>
          
          <div class="form-group">
            <label for="item-descricao">Descrição (opcional):</label>
            <textarea id="item-descricao" name="item-descricao" rows="4"></textarea>
          </div>
          
          <div class="form-actions">
            <button type="button" id="cancel-item" class="btn secondary">Cancelar</button>
            <button type="submit" class="btn btn-success">Adicionar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal para Criar Traço Personalizado -->
  <div id="traco-personalizado-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Criar Traço Personalizado</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <form id="traco-personalizado-form">
          <div class="form-group">
            <label for="traco-personalizado-nome">Nome do Traço:</label>
            <input type="text" id="traco-personalizado-nome" name="traco-personalizado-nome" required>
          </div>
          
          <div class="form-group">
            <label for="traco-personalizado-descricao">Descrição:</label>
            <textarea id="traco-personalizado-descricao" name="traco-personalizado-descricao" rows="4"></textarea>
          </div>
          
          <div class="form-actions">
            <button type="button" id="cancel-traco-personalizado" class="btn secondary">Cancelar</button>
            <button type="submit" class="btn btn-success">Salvar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Modal para Criar Técnica Personalizada -->
  <div id="tecnica-personalizada-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Criar Técnica Personalizada</h2>
        <span class="close">&times;</span>
      </div>
      <div class="modal-body">
        <form id="tecnica-personalizada-form">
          <div class="form-group">
            <label for="tecnica-personalizada-nome">Nome da Técnica:</label>
            <input type="text" id="tecnica-personalizada-nome" name="tecnica-personalizada-nome" required>
          </div>
          
          <div class="form-group">
            <label for="tecnica-personalizada-categoria">Categoria:</label>
            <select id="tecnica-personalizada-categoria" name="tecnica-personalizada-categoria">
              <option value="iniciante">Iniciante</option>
              <option value="intermediario">Intermediário</option>
              <option value="avancado">Avançado</option>
              <option value="tecnicas_ligeiras">Técnicas Ligeiras</option>
              <option value="tecnicas_precisas">Técnicas Precisas</option>
              <option value="tecnicas_poderosas">Técnicas Poderosas</option>
              <option value="tecnicas_sagazes">Técnicas Sagazes</option>
            </select>
          </div>
          
          <div class="form-group">
            <label for="tecnica-personalizada-detalhes">Detalhes:</label>
            <input type="text" id="tecnica-personalizada-detalhes" name="tecnica-personalizada-detalhes">
          </div>
          
          <div class="form-group">
            <label for="tecnica-personalizada-descricao">Descrição:</label>
            <textarea id="tecnica-personalizada-descricao" name="tecnica-personalizada-descricao" rows="4"></textarea>
          </div>
          
          <div class="form-actions">
            <button type="button" id="cancel-tecnica-personalizada" class="btn secondary">Cancelar</button>
            <button type="submit" class="btn btn-success">Salvar</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <script src="../scripts/common.js"></script>
  <script src="../scripts/create.js"></script>
</body>
</html>
